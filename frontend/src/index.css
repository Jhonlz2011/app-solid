@import "tailwindcss";
@plugin "tailwindcss-animate";

@theme {
  --color-bg: var(--color-bg);
  --color-surface: var(--color-surface);
  --color-card: var(--color-card);
  --color-card-alt: var(--color-card-alt);
  --color-text: var(--color-text);
  --color-heading: var(--color-heading);
  --color-muted: var(--color-muted);
  --color-border: var(--color-border);
  --color-border-strong: var(--color-border-strong);
  --color-border-subtle: var(--color-border-subtle);
  --color-table-hover: var(--color-table-hover);

  --color-primary: var(--color-primary);
  --color-primary-strong: var(--color-primary-strong);
  --color-primary-soft: var(--color-primary-soft);
  --color-on-primary: var(--color-on-primary);

  --color-info: var(--color-info);
  --color-success: var(--color-success);
  --color-warning: var(--color-warning);
  --color-danger: var(--color-danger);

  --shadow-card: var(--shadow-card);
  --shadow-card-soft: var(--shadow-card-soft);
}

:root {
  color-scheme: light dark;
  /* Core UI Colors - using light-dark(light-value, dark-value) */
  --color-bg: light-dark(#f4f7fb, #020617);
  --color-surface: light-dark(#ffffff, #0f172a);
  --color-card: light-dark(#ffffff, #111827);
  --color-card-alt: light-dark(#eef2ff, #1f2937);
  --color-text: light-dark(#0f172a, #f8fafc);
  --color-heading: light-dark(#0b1220, #f8fafc);
  --color-muted: light-dark(#475569, #94a3b8);
  --color-border: light-dark(#e2e8f0, #1f2533);
  --color-border-strong: light-dark(#d0d7e5, #222c3c);
  --color-border-subtle: light-dark(rgba(15, 23, 42, 0.08), rgba(148, 163, 184, 0.25));
  --color-table-hover: light-dark(rgba(15, 23, 42, 0.04), rgba(148, 163, 184, 0.08));

  /* Primary Colors */
  --color-primary: light-dark(#2563eb, #60a5fa);
  --color-primary-strong: light-dark(#1d4ed8, #93c5fd);
  --color-primary-soft: light-dark(rgba(37, 99, 235, 0.15), rgba(91, 141, 255, 0.18));
  --color-on-primary: #f8fafc;

  /* Semantic Colors */
  --color-info: light-dark(#0ea5e9, #38bdf8);
  --color-success: light-dark(#16a34a, #22c55e);
  --color-warning: light-dark(#ca8a04, #facc15);
  --color-danger: light-dark(#dc2626, #f87171);

  /* Semantic Text Colors */
  --color-info-text: light-dark(#1d4ed8, #60a5fa);
  --color-success-text: light-dark(#15803d, #4ade80);
  --color-warning-text: light-dark(#a16207, #fbbf24);
  --color-danger-text: light-dark(#b91c1c, #fb7185);
  --color-price-text: light-dark(#059669, #34d399);

  /* Semantic Background Colors */
  --color-info-bg: light-dark(rgba(37, 99, 235, 0.1), rgba(96, 165, 250, 0.15));
  --color-success-bg: light-dark(rgba(22, 163, 74, 0.1), rgba(74, 222, 128, 0.15));
  --color-warning-bg: light-dark(rgba(202, 138, 4, 0.1), rgba(251, 191, 36, 0.15));
  --color-danger-bg: light-dark(rgba(220, 38, 38, 0.1), rgba(251, 113, 133, 0.15));

  /* Semantic Border Colors */
  --color-info-border: light-dark(rgba(37, 99, 235, 0.25), rgba(96, 165, 250, 0.3));
  --color-success-border: light-dark(rgba(22, 163, 74, 0.25), rgba(74, 222, 128, 0.3));
  --color-warning-border: light-dark(rgba(202, 138, 4, 0.25), rgba(251, 191, 36, 0.3));
  --color-danger-border: light-dark(rgba(220, 38, 38, 0.25), rgba(251, 113, 133, 0.3));

  /* Shadows */
  --shadow-card: light-dark(0 12px 40px rgba(15, 23, 42, 0.08), 0 18px 40px rgba(2, 6, 23, 0.55));
  --shadow-card-soft: light-dark(0 8px 24px rgba(15, 23, 42, 0.05), 0 12px 30px rgba(2, 6, 23, 0.35));

  /* Badge Colors */
  --badge-neutral-bg: light-dark(rgba(71, 85, 105, 0.15), rgba(148, 163, 184, 0.3));
  --badge-neutral-text: light-dark(#334155, #f8fafc);
  --badge-info-bg: light-dark(rgba(14, 165, 233, 0.15), rgba(56, 189, 248, 0.28));
  --badge-info-text: light-dark(#0369a1, #d2f2ff);
  --badge-success-bg: light-dark(rgba(22, 163, 74, 0.15), rgba(34, 197, 94, 0.25));
  --badge-success-text: light-dark(#15803d, #bbf7d0);
  --badge-warning-bg: light-dark(rgba(202, 138, 4, 0.15), rgba(250, 204, 21, 0.25));
  --badge-warning-text: light-dark(#a16207, #fef9c3);
  --badge-danger-bg: light-dark(rgba(220, 38, 38, 0.15), rgba(248, 113, 113, 0.25));
  --badge-danger-text: light-dark(#b91c1c, #ffe4e6);
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-thumb {
  background-color: #767272a6;
  border-radius: 1rem;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgb(97, 97, 97);
  border-radius: 1rem;
}

::-webkit-scrollbar-track {
  background-color: #00000000;
}

::-webkit-scrollbar-corner {
  color: #000
}



.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.45rem;
  border-radius: 0.9rem;
  padding: 0.65rem 1.3rem;
  font-weight: 600;
}

.btn-primary {
  background: linear-gradient(120deg, var(--color-primary-strong), var(--color-primary));
  color: var(--color-on-primary);
  box-shadow: 0 12px 30px color-mix(in srgb, var(--color-primary) 35%, transparent);
  border: 1px solid color-mix(in srgb, var(--color-primary) 65%, transparent);
}

.btn-primary:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}

.btn-outline {
  border: 1px solid var(--color-border-strong);
  color: var(--color-text);
  background-color: transparent;
}

.btn-outline:hover {
  background-color: var(--color-card-alt);
  color: var(--color-heading);
  border-color: color-mix(in srgb, var(--color-primary) 50%, var(--color-border-strong));
}

.btn-ghost {
  background-color: transparent;
  color: var(--color-muted);
}

.btn-ghost:hover {
  color: var(--color-heading);
  background-color: var(--color-card-alt);
}

.button-danger {
  background-color: color-mix(in srgb, var(--color-danger) 15%, transparent);
  color: var(--color-danger);
  border: 1px solid color-mix(in srgb, var(--color-danger) 35%, transparent);
}

.button-danger:hover {
  background-color: color-mix(in srgb, var(--color-danger) 25%, transparent);
  color: var(--color-on-primary);
}

.filter-pill {
  @apply font-semibold rounded-full border border-border-strong px-[1.15rem] py-[0.45rem] text-[0.9rem] text-muted bg-white/1;
}

.filter-pill:hover {
  border-color: color-mix(in srgb, var(--color-primary) 50%, var(--color-border-strong));
  @apply text-heading bg-card-alt;
}

.filter-pill--active {
  @apply bg-primary-soft text-primary-strong;
  border-color: color-mix(in srgb, var(--color-primary) 70%, transparent);
  box-shadow: 0 10px 30px color-mix(in srgb, var(--color-primary) 35%, transparent);
}

.row-hover:hover {
  background: var(--color-table-hover);
}

.input-control {
  @apply bg-card-alt border border-border text-text rounded-2xl px-4 py-3 transition-all duration-200;
}

.input-control::placeholder {
  @apply text-muted;
}

.input-control:focus {
  border-color: color-mix(in srgb, var(--color-primary) 65%, transparent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-primary) 25%, transparent);
}

/* Prevenir flash blanco durante transiciones */
html,
body,
#root {
  @apply bg-bg text-text overflow-x-hidden;
}

/* --- KOBALTE UI STYLES --- */

/* Select */
.select-trigger {
  @apply flex items-center justify-between w-full px-4 py-3 bg-card-alt border border-border rounded-2xl text-text;
}

.select-trigger:hover {
  @apply border-border-strong bg-card;
}

.select-trigger:focus-visible {
  border-color: color-mix(in srgb, var(--color-primary) 65%, transparent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-primary) 25%, transparent);
}

.select-content {
  @apply bg-card border border-border rounded-xl shadow-card-soft z-[100] min-w-[var(--kb-select-trigger-width)] p-1 animate-in fade-in zoom-in-95 duration-200;
}

.select-listbox {
  @apply max-h-[256px] overflow-y-auto outline-none;
}

.select-item {
  @apply flex items-center justify-between px-3 py-2 rounded-lg text-sm text-muted cursor-pointer outline-none transition-colors;
}

.select-item:hover,
.select-item[data-highlighted] {
  @apply bg-primary-soft text-primary-strong;
}

.select-item[data-selected] {
  @apply text-primary font-medium;
}

/* TextField & NumberField */
.text-field-root,
.number-field-root {
  @apply flex flex-col gap-1.5;
}

.text-field-label,
.number-field-label {
  @apply text-sm font-medium text-muted ml-1;
}

.text-field-input,
.number-field-input {
  @apply w-full bg-card-alt border border-border text-text rounded-2xl px-4 py-3 outline-none transition-all duration-200;
}

.text-field-input:hover,
.number-field-input:hover {
  @apply border-border-strong bg-card;
}

.text-field-input:focus,
.number-field-input:focus {
  border-color: color-mix(in srgb, var(--color-primary) 65%, transparent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-primary) 25%, transparent);
}

/* Dropdown Menu */
.dropdown-content {
  @apply bg-card border border-border rounded-xl shadow-card-soft z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-150;
}

/* Table Improvements */
.table-container {
  @apply bg-card border border-border rounded-2xl shadow-card-soft;
}

/* Table Row Hover - semantic */
/* .table-row-hover:hover {
  background-color: var(--color-table-hover);
} */

/* Custom Checkbox */
.custom-checkbox {
  appearance: none;
  -webkit-appearance: none;
  width: 1.125rem;
  height: 1.125rem;
  border-radius: 0.375rem;
  border: 2px solid var(--color-border-strong);
  background-color: transparent;
  cursor: pointer;
  position: relative;
}

.custom-checkbox:hover {
  border-color: var(--color-primary);
  background-color: var(--color-primary-soft);
}

.custom-checkbox:checked {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
}

.custom-checkbox:checked::after {
  content: '';
  position: absolute;
  left: 5px;
  top: 2px;
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.custom-checkbox:indeterminate {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
}

.custom-checkbox:indeterminate::after {
  content: '';
  position: absolute;
  left: 3px;
  top: 6px;
  width: 8px;
  height: 2px;
  background-color: white;
}

.custom-checkbox:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--color-primary-soft);
}

/* Toggle Switch */
.toggle-switch {
  appearance: none;
  -webkit-appearance: none;
  width: 2.25rem;
  height: 1.25rem;
  border-radius: 9999px;
  background-color: var(--color-border-strong);
  cursor: pointer;
  position: relative;
  transition: background-color 0.2s ease;
}

.toggle-switch::after {
  content: '';
  position: absolute;
  left: 2px;
  top: 2px;
  width: 1rem;
  height: 1rem;
  border-radius: 9999px;
  background-color: white;
  transition: transform 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.toggle-switch:checked {
  background-color: var(--color-primary);
}

.toggle-switch:checked::after {
  transform: translateX(1rem);
}

.toggle-switch:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--color-primary-soft);
}

/* Pinned Column */
.pinned-column {
  position: sticky;
  left: 0;
  z-index: 5;
  background-color: var(--color-card);
}

.pinned-column::after {
  content: '';
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.1), transparent);
}

/* ========================================
   SIDEBAR MENU SYSTEM
   Note: Most styles are now inline in components
   using data-attributes and direct Tailwind classes.
   Only keeping scrollbar and animation-related styles here.
   ======================================== */